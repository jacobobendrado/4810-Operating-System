# Exceptions
Exceptions are interrupts generated by the CPU when an "error" occurs.
These "errors" are not always really something going wrong; things like page faults are one example.
Some, but not all, exceptions push an error code to the stack to provide additional information about the error.

### Types of Exceptions
- Faults: Can be corrected, and the program can continue like nothing happened (ex. page faults)
- Traps: Specific instructions that are reported right after the trapping instruction (ex. breakpoints)
- Aborts: Severe unrecoverable error (ex. double faults)

### Handling Exceptions
When an exception occurs, the flags, code segment register, and eip are pushed onto the stack.
If it's a fault, the stack eip points to the current instruction, and if it's a trap, it points to the next instruction.

#### DE Exception
This is Interrupt 0, a fault, and it is triggered by either dividing by zero or by having a result that doesn't fit in the destination.
Three possible responses are to abort the process, skip the instruction, or redo the instruction.
Aborting the process is the easiest, but it can cause problems if the offending process is the kernel.
Skipping the instruction is not difficult if the size of the offending instruction is known, but it may lead to unanticipated side effects.
Redoing the instruction is often difficult, especially because some instructions will never quite work right.
For instance, `div  %edx` will always trigger a DE exception because it will either overflow or divide by zero.
Redoing the instruction can also lead to unanticipated side effects.

### Resources
[OSDev](https://wiki.osdev.org/Exceptions)
[Tutorial](https://wiki.osdev.org/Interrupts_Tutorial)
[Forum Post with List of Recoveries from Exceptions](https://forum.osdev.org/viewtopic.php?p=243553#p243553)